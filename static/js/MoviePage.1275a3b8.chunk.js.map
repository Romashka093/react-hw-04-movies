{"version":3,"sources":["components/moviesItem/MoviesItem.js","components/moviesItem/MoviesItem.module.css","pages/movies/MoviesSearcher.js","pages/movies/Movies.js","services/movies-api.js"],"names":["useStyles","makeStyles","root","display","maxWidth","marginBottom","marginTop","MoviesItem","movies","match","location","classes","length","className","css","cardsArea","map","movie","key","id","elevation","to","pathname","state","from","url","query","search","component","image","poster_path","alt","title","variant","color","module","exports","theme","justifyContent","alignItems","padding","margin","spacing","width","border","MoviesSearcher","handleSubmit","searchQuery","handleChange","Paper","globalCss","conteiner","noValidate","autoComplete","onSubmit","TextField","label","type","autoFocus","value","onChange","name","Button","size","Movies","serchMovies","moviesAPI","getMoviesBySearch","then","setState","data","results","evt","target","preventDefault","props","history","push","searchParam","queryString","parse","this","prevProps","prevParam","Component","axios","defaults","baseURL","getTrendingMovies","get","process","console","log","getMovieDetails","details","getActorsFromMovie","actors","cast","getReviewsOfMovie","reviews"],"mappings":"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","file":"static/js/MoviePage.1275a3b8.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport css from './MoviesItem.module.css';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'inline-table',\n    maxWidth: 300,\n    marginBottom: 10,\n    marginTop: 10,\n  },\n});\n\nexport default function MoviesItem({ movies, match, location }) {\n  const classes = useStyles();\n\n  return (\n    <div>\n      {movies.length !== 0 && (\n        <ul className={css.cardsArea}>\n          {movies.map(movie => (\n            <li key={movie.id} className={classes.root}>\n              <Card elevation={3}>\n                <CardActionArea>\n                  <Link\n                    id={movie.id}\n                    to={{\n                      pathname: `movies/${movie.id}`,\n                      state: {\n                        from: match.url,\n                        query: location.search,\n                      },\n                    }}\n                  >\n                    <div>\n                      <CardMedia\n                        component=\"img\"\n                        image={`https://image.tmdb.org/t/p/w300${movie.poster_path}`}\n                        alt={`movie poster: ${movie.title}`}\n                      />\n                    </div>\n                    <CardContent>\n                      <Typography\n                        variant=\"body2\"\n                        color=\"textPrimary\"\n                        component=\"p\"\n                      >\n                        {movie.title}\n                      </Typography>\n                    </CardContent>\n                  </Link>\n                </CardActionArea>\n              </Card>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardsArea\":\"MoviesItem_cardsArea__1FO4m\"};","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport globalCss from '../../index.module.css';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 10,\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '35%',\n    },\n    '& .MuiButton-outlinedPrimary': {\n      border: '2px solid #3f51b5',\n    },\n    '& .MuiButton-outlinedSizeLarge': {\n      padding: '13px 21px',\n    },\n  },\n}));\n\nexport default function MoviesSearcher({\n  handleSubmit,\n  searchQuery,\n  handleChange,\n}) {\n  const classes = useStyles();\n  return (\n    <Paper className={globalCss.conteiner} elevation={3}>\n      <form\n        className={classes.root}\n        noValidate\n        autoComplete=\"on\"\n        onSubmit={handleSubmit}\n      >\n        <TextField\n          id=\"outlined-search\"\n          label=\"Movie name\"\n          type=\"search\"\n          variant=\"outlined\"\n          autoFocus\n          value={searchQuery}\n          onChange={handleChange}\n          name=\"search\"\n        />\n        <Button type=\"submit\" size=\"large\" variant=\"outlined\" color=\"primary\">\n          Search\n        </Button>\n      </form>\n    </Paper>\n  );\n}\n","import React, { Component } from 'react';\nimport moviesAPI from '../../services/movies-api';\nimport queryString from 'query-string';\nimport MoviesSearcher from './MoviesSearcher';\nimport MoviesItem from '../../components/moviesItem/MoviesItem';\n\nclass Movies extends Component {\n  state = {\n    movies: [],\n    searchQuery: '',\n  };\n\n  componentDidMount() {\n    const searchParam = queryString.parse(this.props.location.search);\n\n    if (searchParam.query) {\n      this.serchMovies(searchParam.query);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const prevParam = queryString.parse(prevProps.location.search);\n    const searchParam = queryString.parse(this.props.location.search);\n    if (prevParam.query !== searchParam.query) {\n      this.serchMovies(searchParam.query);\n    }\n  }\n\n  serchMovies = searchQuery => {\n    moviesAPI.getMoviesBySearch(searchQuery).then(movies =>\n      this.setState({\n        movies: movies.data.results,\n      }),\n    );\n  };\n\n  handleChange = evt => {\n    this.setState({\n      searchQuery: evt.target.value,\n    });\n  };\n\n  handleSubmit = evt => {\n    evt.preventDefault();\n    if (this.state.searchQuery === '') {\n      return;\n    }\n    this.props.history.push({\n      search: `?query=${this.state.searchQuery}`,\n    });\n    this.serchMovies(this.state.searchQuery);\n  };\n\n  render() {\n    const { movies, searchQuery } = this.state;\n    return (\n      <div>\n        <MoviesSearcher\n          handleSubmit={this.handleSubmit}\n          searchQuery={searchQuery}\n          handleChange={this.handleChange}\n        />\n        {movies && <MoviesItem {...this.props} movies={movies} />}\n      </div>\n    );\n  }\n}\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nexport default {\n  async getTrendingMovies() {\n    try {\n      const movies = await axios\n        .get(`/3/trending/movie/day?api_key=${process.env.REACT_APP_KEY}`)\n        .then(movies => movies.data.results);\n      return movies;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async getMoviesBySearch(query) {\n    try {\n      const movie = await axios.get(\n        `/3/search/movie?api_key=${process.env.REACT_APP_KEY}&query=${query}&page=1&include_adult=false`,\n      );\n      return movie;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  async getMovieDetails(id) {\n    try {\n      const details = await axios.get(\n        `/3/movie/${id}?api_key=${process.env.REACT_APP_KEY}`,\n      );\n      return details;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  async getActorsFromMovie(id = 12) {\n    try {\n      const actors = await axios\n        .get(`/3/movie/${id}/credits?api_key=${process.env.REACT_APP_KEY}`)\n        .then(actors => actors.data.cast);\n      return actors;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  async getReviewsOfMovie(id = 12) {\n    try {\n      const reviews = await axios.get(\n        `/3/movie/${id}/reviews?api_key=${process.env.REACT_APP_KEY}`,\n      );\n      return reviews;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n\n// export const getTrendingMovies = () => axios.get(`/3/trending/movie/week?api_key=${process.env.REACT_APP_KEY}`);\n// console.log(getTrendingMovies());\n\n// export const getMoviesBySearch = (searchQuery) =>\n// \taxios.get(`/3/search/movie?api_key=${process.env.REACT_APP_KEY}&query=${searchQuery}&page=1&include_adult=false`);\n// console.log(getMoviesBySearch());\n\n// export const getMovieDetails = (movieId = 12) => axios.get(`/3/movie/${movieId}?api_key=${process.env.REACT_APP_KEY}`);\n// console.log(getMovieDetails());\n\n// export const getActorsFromMovie = (movieId = 12) =>\n// \taxios.get(`/3/movie/${movieId}/credits?api_key=${process.env.REACT_APP_KEY}`);\n// console.log(getActorsFromMovie());\n\n// export const getReviewsOfMovie = (movieId = 12) =>\n// \taxios.get(`/3/movie/${movieId}/reviews?api_key=${process.env.REACT_APP_KEY}`);\n// console.log(getReviewsOfMovie());\n"],"sourceRoot":""}